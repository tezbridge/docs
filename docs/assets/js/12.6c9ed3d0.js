(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{230:function(t,e,o){"use strict";o.r(e);var a=o(0),s=Object(a.a)({},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"originate-your-smart-contract"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#originate-your-smart-contract","aria-hidden":"true"}},[t._v("#")]),t._v(" * Originate your smart contract")]),t._v(" "),o("p",[o("strong",[t._v("!!!")]),t._v(" Make sure you've already prepared the "),o("strong",[o("code",[t._v("contract.json")])]),t._v(" and the "),o("strong",[o("code",[t._v("contract.storage.json")])]),t._v(" files.")]),t._v(" "),o("h3",{attrs:{id:"steps"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#steps","aria-hidden":"true"}},[t._v("#")]),t._v(" Steps:")]),t._v(" "),o("h4",{attrs:{id:"_1-host-the-tool-html-file"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_1-host-the-tool-html-file","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. Host the "),o("code",[t._v("tool.html")]),t._v(" file.")]),t._v(" "),o("p",[t._v("For python users")]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v("python -m SimpleHTTPServer 1234\n")])])]),o("p",[t._v("For npm package "),o("code",[t._v("http-server")]),t._v(" users")]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v("hs -p 1234\n")])])]),o("p",[t._v("For parcel-bundler users")]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v("parcel tool.html\n")])])]),o("p",[t._v("Now open "),o("a",{attrs:{href:"http://localhost:1234/tool.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:1234/tool.html"),o("OutboundLink")],1),t._v(" to view the tool page.")]),t._v(" "),o("h4",{attrs:{id:"_2-adding-contract"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_2-adding-contract","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. Adding contract.")]),t._v(" "),o("p",[t._v("Copy and paste the content of "),o("strong",[o("code",[t._v("contract.json")])]),t._v(" and "),o("strong",[o("code",[t._v("contract.storage.json")])]),t._v(" to the "),o("strong",[t._v("Smart contract JSON")]),t._v(" field and the "),o("strong",[t._v("Initial storage JSON")]),t._v(" field.")]),t._v(" "),o("p",[o("img",{attrs:{src:"/imgs/tool.png",alt:"Tool HTML"}}),t._v(" "),o("center",[t._v("â†‘ Just like this")])],1),t._v(" "),o("h4",{attrs:{id:"_3-click-originate-contract"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_3-click-originate-contract","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. Click "),o("code",[t._v("originate contract")]),t._v(".")]),t._v(" "),o("p",[t._v("The browser will open a new window with location at "),o("code",[t._v("https://www.tezbridge.com/index.html?signer")])]),t._v(" "),o("p",[t._v("Then go "),o("strong",[t._v("Choose signer -> Local managers -> FaucetA")]),t._v(" and enter the locking password you set before. If the password is correct, the TezBridge will automatically show the public hash key(address). Now you just need to click "),o("code",[t._v("Use as signer")]),t._v(".")]),t._v(" "),o("p",[t._v("Then a "),o("strong",[t._v("DApp requests")]),t._v(" tab shows up. You will get noticed that the arrow left to the "),o("strong",[t._v("DApp requests")]),t._v(" is blinking now, which means something is updated. So click the "),o("strong",[t._v("DApp requests")]),t._v(".")]),t._v(" "),o("p",[t._v("You can see useful infomation shows up here:")]),t._v(" "),o("ul",[o("li",[o("strong",[t._v("DApp")]),t._v(": It displays the window title which sent the request.")]),t._v(" "),o("li",[o("strong",[t._v("RPC node")]),t._v(": The RPC node is about to connect with.")]),t._v(" "),o("li",[o("strong",[t._v("Protocol")]),t._v(": The current protocol of the RPC node.")]),t._v(" "),o("li",[o("strong",[t._v("Kind")]),t._v(": The request operation kind.\nAnd the request operation details.")])]),t._v(" "),o("p",[t._v("Let's click "),o("strong",[t._v("Approve")]),t._v(". Here are the TezBridge processing steps:")]),t._v(" "),o("ol",[o("li",[t._v("Set all the gas_limit, storage_limit, fee of operations to maximum.")]),t._v(" "),o("li",[t._v("Get operation bytes from RPC node.")]),t._v(" "),o("li",[t._v("Generate operation bytes locally.")]),t._v(" "),o("li",[t._v("Assert the result of @1 and @2 should be equal.")]),t._v(" "),o("li",[t._v("Run the operation on RPC node to get operation result.")]),t._v(" "),o("li",[t._v("Extract the cost gas_limit, storage_limit in operation result and calculate the minimal fee.")]),t._v(" "),o("li",[t._v("Set the gas_limit, storage_limit and the fee to operations.")]),t._v(" "),o("li",[t._v("Get operation bytes from RPC node.")]),t._v(" "),o("li",[t._v("Generate operation bytes locally.")]),t._v(" "),o("li",[t._v("Assert the result of @8 and @9 should be equal.")]),t._v(" "),o("li",[t._v("Sign the operation bytes and inject the signed bytes though the RPC node.")])]),t._v(" "),o("p",[t._v("After these steps, the signer page will get the result and post it to our tool page.")]),t._v(" "),o("p",[t._v("Now switch to our tool page window, then you can get the result.")]),t._v(" "),o("p",[t._v("It should look like this:")]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v('{"operation_id":"ooyB1Wa4RbmzZQLPGXaNKmMSt9rReskJTgjZUrWaxDXYFsVUhX8","originated_contracts":[["KT1W57Qa3NQhJBTYNA5Xb34tyWtLRwfristJ"]]}\n')])])])])},[],!1,null,null,null);e.default=s.exports}}]);