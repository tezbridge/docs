(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{239:function(e,t,a){"use strict";a.r(t);var r=a(0),n=Object(r.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"tezbridge-network-lib-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tezbridge-network-lib-api","aria-hidden":"true"}},[e._v("#")]),e._v(" TezBridge network lib API")]),e._v(" "),a("h2",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("npm i tezbridge-network\n")])])]),a("h2",{attrs:{id:"import"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#import","aria-hidden":"true"}},[e._v("#")]),e._v(" Import")]),e._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[e._v("TBN")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'tezbridge-network/PsBabyM1'")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" network_client "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("TezBridgeNetwork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'https://mainnet.tezrpc.me'")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("p",[e._v("To directly import "),a("code",[e._v("tezbridge-network/{procotol}")]),e._v(", you have to install 2 babel plugins which are "),a("code",[e._v("@babel/plugin-transform-runtime")]),e._v(" and "),a("code",[e._v("@babel/plugin-transform-flow-strip-types")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"api-reference"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-reference","aria-hidden":"true"}},[e._v("#")]),e._v(" API reference")]),e._v(" "),a("h3",{attrs:{id:"network-client-fetch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch","aria-hidden":"true"}},[e._v("#")]),e._v(" network_client.fetch")]),e._v(" "),a("h4",{attrs:{id:"network-client-fetch-custom-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-custom-path","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.fetch.custom(path)")])]),e._v(" "),a("p",[e._v("Access content with the passing path")]),e._v(" "),a("h4",{attrs:{id:"network-client-fetch-head-sub-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-head-sub-path","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.fetch.head(sub_path?)")])]),e._v(" "),a("p",[e._v("Get the whole content of head block")]),e._v(" "),a("h4",{attrs:{id:"network-client-fetch-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-hash","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.fetch.hash()")])]),e._v(" "),a("p",[e._v("Get head block hash in main chain")]),e._v(" "),a("h4",{attrs:{id:"network-client-fetch-header"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-header","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.fetch.header()")])]),e._v(" "),a("p",[e._v("Get the header of head block in main chain")]),e._v(" "),a("h4",{attrs:{id:"network-client-fetch-protocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-protocol","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.fetch.protocol()")])]),e._v(" "),a("p",[e._v("Get current protocol used in main chain")]),e._v(" "),a("h4",{attrs:{id:"network-client-fetch-predecessor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-predecessor","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.fetch.predecessor()")])]),e._v(" "),a("p",[e._v("Get the predecessor of current head block")]),e._v(" "),a("h4",{attrs:{id:"network-client-fetch-balance-address"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-balance-address","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.fetch.balance(address)")])]),e._v(" "),a("p",[e._v("Get the balance of the passing address")]),e._v(" "),a("h4",{attrs:{id:"network-client-fetch-contract-address"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-contract-address","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.fetch.contract(address)")])]),e._v(" "),a("p",[e._v("Get the contract information of the padding address")]),e._v(" "),a("h4",{attrs:{id:"network-client-fetch-contract-bytes-hash-url-sub-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-contract-bytes-hash-url-sub-path","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.fetch.contract_bytes(hash_url, sub_path?)")])]),e._v(" "),a("p",[e._v("Get the contract raw bytes of the passing hash_url")]),e._v(" "),a("p",[a("strong",[e._v("hash_url")]),e._v(": a special hex representation of contract hash. (eg: "),a("code",[e._v("3e/e2/31/36/6b/1336eb61419df8fc666056025929bf")]),e._v(")\nYou can generate such hash with the npm package "),a("code",[e._v("tezbridge-crypto")]),e._v(".")]),e._v(" "),a("h4",{attrs:{id:"network-client-fetch-storage-bytes-hash-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-storage-bytes-hash-url","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.fetch.storage_bytes(hash_url)")])]),e._v(" "),a("p",[e._v("Get the storage raw bytes of the contract")]),e._v(" "),a("h4",{attrs:{id:"network-client-fetch-big-map-bytes-hash-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-big-map-bytes-hash-url","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.fetch.big_map_bytes(hash_url)")])]),e._v(" "),a("p",[e._v("Get the big_map raw bytes of the contract")]),e._v(" "),a("h4",{attrs:{id:"network-client-fetch-manager-key-address"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-manager-key-address","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.fetch.manager_key(address)")])]),e._v(" "),a("p",[e._v("Get the manager key hash of the passing address")]),e._v(" "),a("h4",{attrs:{id:"network-client-fetch-counter-address"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-counter-address","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.fetch.counter(address)")])]),e._v(" "),a("p",[e._v("Get the counter value of the passing address")]),e._v(" "),a("h3",{attrs:{id:"network-client-submit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-submit","aria-hidden":"true"}},[e._v("#")]),e._v(" network_client.submit")]),e._v(" "),a("h4",{attrs:{id:"network-client-submit-pack-data-data-json-type-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-submit-pack-data-data-json-type-json","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.submit.pack_data(data_json, type_json)")])]),e._v(" "),a("p",[e._v("Get packed data of the passing JSON content from RPC node")]),e._v(" "),a("p",[a("strong",[e._v("data_json")]),e._v(" and "),a("strong",[e._v("type_json")]),e._v(" are all in Micheline type.")]),e._v(" "),a("p",[e._v("example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('data_json = { "prim": "Pair", "args": [ { "string": "abc" }, { "int": "34" } ] }\ntype_json = { "prim": "pair", "args": [ { "prim": "string" }, { "prim": "nat" } ] }\n')])])]),a("h4",{attrs:{id:"network-client-submit-forge-operation-head-hash-ops"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-submit-forge-operation-head-hash-ops","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.submit.forge_operation(head_hash, ops)")])]),e._v(" "),a("p",[e._v("Forge operation to get bytes.")]),e._v(" "),a("p",[a("strong",[e._v("head_hash")]),e._v(" is the hash of head block and "),a("strong",[e._v("ops")]),e._v(" is the the Michline operations in array.")]),e._v(" "),a("h4",{attrs:{id:"network-client-submit-preapply-operation-head-hash-ops-protocol-signature"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-submit-preapply-operation-head-hash-ops-protocol-signature","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.submit.preapply_operation(head_hash, ops, protocol, signature)")])]),e._v(" "),a("p",[e._v("Preapply operations to get results.")]),e._v(" "),a("h4",{attrs:{id:"network-client-submit-inject-operation-signed-op"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-submit-inject-operation-signed-op","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.submit.inject_operation(signed_op)")])]),e._v(" "),a("p",[e._v("Inject signed operation.")]),e._v(" "),a("h3",{attrs:{id:"network-client-mixed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-mixed","aria-hidden":"true"}},[e._v("#")]),e._v(" network_client.mixed")]),e._v(" "),a("h4",{attrs:{id:"network-client-mixed-makeoperationbytes-param-op-params"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-mixed-makeoperationbytes-param-op-params","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.mixed.makeOperationBytes(param, op_params)")])]),e._v(" "),a("p",[e._v("Create operation bytes though remote RPC node.")]),e._v(" "),a("p",[e._v("Arguments types:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("param: {\n  source : string,\n  public_key: string\n}\n\nop_params: Array<{\n  kind : 'reveal' | 'origination' | 'transaction',\n  ...any\n}>\n")])])]),a("h4",{attrs:{id:"network-client-mixed-maketransactionbytes-param-op-param"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-mixed-maketransactionbytes-param-op-param","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.mixed.makeTransactionBytes(param, op_param)")])]),e._v(" "),a("p",[e._v("Arguments types:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("param: {\n  source : string,\n  public_key: string\n}\n\nop_param: {\n  fee?: string,\n  gas_limit?: string,\n  storage_limit?: string,\n  amount: string,\n  destination: string,\n  parameters?: Micheline\n}\n")])])]),a("h4",{attrs:{id:"network-client-mixed-makeoriginationbytes-param-op-param"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-mixed-makeoriginationbytes-param-op-param","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.mixed.makeOriginationBytes(param, op_param)")])]),e._v(" "),a("p",[e._v("Arguments types:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("param: {\n  source : string,\n  public_key: string\n}\n\nop_param: {\n  fee?: string,\n  gas_limit?: string,\n  storage_limit?: string,\n  managerPubkey?: string,\n  balance?: string,\n  spendable?: boolean,\n  delegatable?: boolean,\n  delegate?: string,\n  script?: Micheline\n}\n")])])]),a("h4",{attrs:{id:"network-client-mixed-makeminfeeoperation-tbc-source-param-op-param"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-mixed-makeminfeeoperation-tbc-source-param-op-param","aria-hidden":"true"}},[e._v("#")]),e._v(" "),a("code",[e._v("network_client.mixed.makeMinFeeOperation(TBC, source, param, op_param)")])]),e._v(" "),a("p",[e._v("Arguments types:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("TBC: TezBridgeCrypto package object\n\nsource: string | null\n\nsecret_key: string\n\nop_param: {\n  fee?: string,\n  gas_limit?: string,\n  storage_limit?: string,\n  managerPubkey?: string,\n  balance?: string,\n  spendable?: boolean,\n  delegatable?: boolean,\n  delegate?: string,\n  script?: Micheline\n}\n")])])])])},[],!1,null,null,null);t.default=n.exports}}]);