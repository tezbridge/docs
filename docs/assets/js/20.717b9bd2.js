(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{258:function(t,e,a){"use strict";a.r(e);var r=a(0),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"tezbridge-network-lib-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tezbridge-network-lib-api"}},[t._v("#")]),t._v(" TezBridge network lib API")]),t._v(" "),a("h2",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[t._v("#")]),t._v(" Installation")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm i tezbridge-network\n")])])]),a("h2",{attrs:{id:"import"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#import"}},[t._v("#")]),t._v(" Import")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TBN")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tezbridge-network/PsBabyM1'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" network_client "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TezBridgeNetwork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://mainnet.tezrpc.me'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("To directly import "),a("code",[t._v("tezbridge-network/{procotol}")]),t._v(", you have to install 2 babel plugins which are "),a("code",[t._v("@babel/plugin-transform-runtime")]),t._v(" and "),a("code",[t._v("@babel/plugin-transform-flow-strip-types")]),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"api-reference"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-reference"}},[t._v("#")]),t._v(" API reference")]),t._v(" "),a("h3",{attrs:{id:"network-client-fetch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch"}},[t._v("#")]),t._v(" network_client.fetch")]),t._v(" "),a("h4",{attrs:{id:"network-client-fetch-custom-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-custom-path"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.fetch.custom(path)")])]),t._v(" "),a("p",[t._v("Access content with the passing path")]),t._v(" "),a("h4",{attrs:{id:"network-client-fetch-head-sub-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-head-sub-path"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.fetch.head(sub_path?)")])]),t._v(" "),a("p",[t._v("Get the whole content of head block")]),t._v(" "),a("h4",{attrs:{id:"network-client-fetch-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-hash"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.fetch.hash()")])]),t._v(" "),a("p",[t._v("Get head block hash in main chain")]),t._v(" "),a("h4",{attrs:{id:"network-client-fetch-header"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-header"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.fetch.header()")])]),t._v(" "),a("p",[t._v("Get the header of head block in main chain")]),t._v(" "),a("h4",{attrs:{id:"network-client-fetch-protocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-protocol"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.fetch.protocol()")])]),t._v(" "),a("p",[t._v("Get current protocol used in main chain")]),t._v(" "),a("h4",{attrs:{id:"network-client-fetch-predecessor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-predecessor"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.fetch.predecessor()")])]),t._v(" "),a("p",[t._v("Get the predecessor of current head block")]),t._v(" "),a("h4",{attrs:{id:"network-client-fetch-balance-address"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-balance-address"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.fetch.balance(address)")])]),t._v(" "),a("p",[t._v("Get the balance of the passing address")]),t._v(" "),a("h4",{attrs:{id:"network-client-fetch-contract-address"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-contract-address"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.fetch.contract(address)")])]),t._v(" "),a("p",[t._v("Get the contract information of the padding address")]),t._v(" "),a("h4",{attrs:{id:"network-client-fetch-contract-bytes-hash-url-sub-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-contract-bytes-hash-url-sub-path"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.fetch.contract_bytes(hash_url, sub_path?)")])]),t._v(" "),a("p",[t._v("Get the contract raw bytes of the passing hash_url")]),t._v(" "),a("p",[a("strong",[t._v("hash_url")]),t._v(": a special hex representation of contract hash. (eg: "),a("code",[t._v("3e/e2/31/36/6b/1336eb61419df8fc666056025929bf")]),t._v(")\nYou can generate such hash with the npm package "),a("code",[t._v("tezbridge-crypto")]),t._v(".")]),t._v(" "),a("h4",{attrs:{id:"network-client-fetch-storage-bytes-hash-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-storage-bytes-hash-url"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.fetch.storage_bytes(hash_url)")])]),t._v(" "),a("p",[t._v("Get the storage raw bytes of the contract")]),t._v(" "),a("h4",{attrs:{id:"network-client-fetch-big-map-bytes-hash-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-big-map-bytes-hash-url"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.fetch.big_map_bytes(hash_url)")])]),t._v(" "),a("p",[t._v("Get the big_map raw bytes of the contract")]),t._v(" "),a("h4",{attrs:{id:"network-client-fetch-manager-key-address"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-manager-key-address"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.fetch.manager_key(address)")])]),t._v(" "),a("p",[t._v("Get the manager key hash of the passing address")]),t._v(" "),a("h4",{attrs:{id:"network-client-fetch-counter-address"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-fetch-counter-address"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.fetch.counter(address)")])]),t._v(" "),a("p",[t._v("Get the counter value of the passing address")]),t._v(" "),a("h3",{attrs:{id:"network-client-submit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-submit"}},[t._v("#")]),t._v(" network_client.submit")]),t._v(" "),a("h4",{attrs:{id:"network-client-submit-pack-data-data-json-type-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-submit-pack-data-data-json-type-json"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.submit.pack_data(data_json, type_json)")])]),t._v(" "),a("p",[t._v("Get packed data of the passing JSON content from RPC node")]),t._v(" "),a("p",[a("strong",[t._v("data_json")]),t._v(" and "),a("strong",[t._v("type_json")]),t._v(" are all in Micheline type.")]),t._v(" "),a("p",[t._v("example:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('data_json = { "prim": "Pair", "args": [ { "string": "abc" }, { "int": "34" } ] }\ntype_json = { "prim": "pair", "args": [ { "prim": "string" }, { "prim": "nat" } ] }\n')])])]),a("h4",{attrs:{id:"network-client-submit-forge-operation-head-hash-ops"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-submit-forge-operation-head-hash-ops"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.submit.forge_operation(head_hash, ops)")])]),t._v(" "),a("p",[t._v("Forge operation to get bytes.")]),t._v(" "),a("p",[a("strong",[t._v("head_hash")]),t._v(" is the hash of head block and "),a("strong",[t._v("ops")]),t._v(" is the the Michline operations in array.")]),t._v(" "),a("h4",{attrs:{id:"network-client-submit-preapply-operation-head-hash-ops-protocol-signature"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-submit-preapply-operation-head-hash-ops-protocol-signature"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.submit.preapply_operation(head_hash, ops, protocol, signature)")])]),t._v(" "),a("p",[t._v("Preapply operations to get results.")]),t._v(" "),a("h4",{attrs:{id:"network-client-submit-inject-operation-signed-op"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-submit-inject-operation-signed-op"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.submit.inject_operation(signed_op)")])]),t._v(" "),a("p",[t._v("Inject signed operation.")]),t._v(" "),a("h3",{attrs:{id:"network-client-mixed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-mixed"}},[t._v("#")]),t._v(" network_client.mixed")]),t._v(" "),a("h4",{attrs:{id:"network-client-mixed-makeoperationbytes-param-op-params"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-mixed-makeoperationbytes-param-op-params"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.mixed.makeOperationBytes(param, op_params)")])]),t._v(" "),a("p",[t._v("Create operation bytes though remote RPC node.")]),t._v(" "),a("p",[t._v("Arguments types:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("param: {\n  source : string,\n  public_key: string\n}\n\nop_params: Array<{\n  kind : 'reveal' | 'origination' | 'transaction',\n  ...any\n}>\n")])])]),a("h4",{attrs:{id:"network-client-mixed-maketransactionbytes-param-op-param"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-mixed-maketransactionbytes-param-op-param"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.mixed.makeTransactionBytes(param, op_param)")])]),t._v(" "),a("p",[t._v("Arguments types:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("param: {\n  source : string,\n  public_key: string\n}\n\nop_param: {\n  fee?: string,\n  gas_limit?: string,\n  storage_limit?: string,\n  amount: string,\n  destination: string,\n  parameters?: Micheline\n}\n")])])]),a("h4",{attrs:{id:"network-client-mixed-makeoriginationbytes-param-op-param"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-mixed-makeoriginationbytes-param-op-param"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.mixed.makeOriginationBytes(param, op_param)")])]),t._v(" "),a("p",[t._v("Arguments types:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("param: {\n  source : string,\n  public_key: string\n}\n\nop_param: {\n  fee?: string,\n  gas_limit?: string,\n  storage_limit?: string,\n  managerPubkey?: string,\n  balance?: string,\n  spendable?: boolean,\n  delegatable?: boolean,\n  delegate?: string,\n  script?: Micheline\n}\n")])])]),a("h4",{attrs:{id:"network-client-mixed-makeminfeeoperation-tbc-source-param-op-param"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-client-mixed-makeminfeeoperation-tbc-source-param-op-param"}},[t._v("#")]),t._v(" "),a("code",[t._v("network_client.mixed.makeMinFeeOperation(TBC, source, param, op_param)")])]),t._v(" "),a("p",[t._v("Arguments types:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("TBC: TezBridgeCrypto package object\n\nsource: string | null\n\nsecret_key: string\n\nop_param: {\n  fee?: string,\n  gas_limit?: string,\n  storage_limit?: string,\n  managerPubkey?: string,\n  balance?: string,\n  spendable?: boolean,\n  delegatable?: boolean,\n  delegate?: string,\n  script?: Micheline\n}\n")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);