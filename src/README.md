# Introduction
TezBridge is a connector between Tezos and DApps. It runs on morden browsers and needs no browser-plugin installation.

## How it works
Tezbridge consists of two kinds of signers.

#### Local signer
```
               window.postMessage
DApp window  <-------------------->  TezBridge window 

In the same browser on one computer / mobile
```

#### Remote signer
```
             window.postMessage                           WebRTC
DApp window <------------------->  TezBridge window A  <---------->  TezBridge window B

The DApp window and TezBridge window A should be in the same browser.
The TezBridge window B can be in other browser or computer in the same LAN network.
```

## FAQ
Q: How does that JS lib find your wallet / how is it allowed to talk to the wallet (vs. javascript running on a random page that shouldn't be allowed to access the wallet) 

A: The DApp will open a new window acessing TezBridge. They make communication though `postMessage` and `window.addEventListener('message', fn)`. So the connection between Dapp and TezBridge are hardcoded.

---

Q: Can DApp spam multiple pop-ups to users browser though the TezBridge plugin?

A: Actually `tezbridge.request` will raise only one window. If the window is opened, it will just focus to it(won't create a new one unless the previous one is closed)

---

Q: Where does TezBridge store the configuration and private keys?

A: TezBridge uses local storage in browser to store the configs and private keys. The private keys are encrypted with the same scheme which official `tezos-client` uses to save encrypted keys in local. So if one can crack the encrypted keys in TezBridge, he can crack the keys generated by the `tezos-client`.

---

Q: Will private key be loaded in memory when the mananger is unlocked?

A: Yes. But the private key will be loaded in memory with a transformed form to prevent memory dump attack.

---

Q: What if the server of TezBridge was attacked by hacker?

A: TezBridge is purely static website hosted in Github page with a cloudflare CDN. So there's no server in TezBridge. All possible network connection targets are listed here:

* Tezos official RPC node
* tzscan.io
* Cloudflare CDN / Github page
* Netlify lambda function (used for simple remote bridging)

--- 

Q: Is a hardware Ledger safe to be used in TezBridge?

A: For a normal operation, Ledger will show a detailed operation information(transaction, origination). For a compound operation, both Ledger and TezBridge will show a base58 hash on each side for user to confirm.

## Contact

Email: im`@`catsigma.com

Riot: catsigma

Tezos-dev slack: catsigma
